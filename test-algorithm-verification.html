<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>ç®—æ³•éªŒè¯æµ‹è¯•</title>
  <style>
    body { font-family: monospace; padding: 20px; background: #f5f5f5; }
    .test { background: white; padding: 15px; margin: 10px 0; border-left: 4px solid #4CAF50; }
    .pass { color: #4CAF50; font-weight: bold; }
    .fail { color: #f44336; font-weight: bold; }
    code { background: #eee; padding: 2px 5px; }
  </style>
</head>
<body>
  <h1>âœ… ä¸­ç­‰é¥±å’Œåº¦ç®—æ³•éªŒè¯</h1>
  
  <div class="test">
    <h3>æµ‹è¯• 1: é¥±å’Œåº¦èŒƒå›´åˆ¤æ–­</h3>
    <pre id="test1"></pre>
  </div>

  <div class="test">
    <h3>æµ‹è¯• 2: å»ç°åº¦è®¡ç®—</h3>
    <pre id="test2"></pre>
  </div>

  <div class="test">
    <h3>æµ‹è¯• 3: ç¼©æ”¾è®¡ç®—</h3>
    <pre id="test3"></pre>
  </div>

  <script>
    // Test 1: Saturation range
    function test1() {
      const hex = '#8D93AD';
      const r = 141, g = 147, b = 173;
      const max = Math.max(r, g, b);
      const min = Math.min(r, g, b);
      const saturation = (max - min) / max;
      
      const result = saturation >= 0.12 && saturation < 0.40;
      document.getElementById('test1').innerHTML = `
é¢œè‰²: ${hex}
RGB: (${r}, ${g}, ${b})
é¥±å’Œåº¦: ${(saturation * 100).toFixed(2)}%
åœ¨ 12%-40% èŒƒå›´å†…: ${result ? '<span class="pass">âœ“ æ˜¯</span>' : '<span class="fail">âœ— å¦</span>'}
ç®—æ³•åˆ†æ”¯: ${result ? '<span class="pass">ä¸­ç­‰é¥±å’Œåº¦ (å»ç°åº¦+ç¼©æ”¾)</span>' : 'å…¶ä»–'}
      `;
    }

    // Test 2: Gray removal
    function test2() {
      const r = 141, g = 147, b = 173;
      const gray = Math.min(r, g, b);
      const chromaR = r - gray;
      const chromaG = g - gray;
      const chromaB = b - gray;
      
      document.getElementById('test2').innerHTML = `
åŸå§‹ RGB: (${r}, ${g}, ${b})
ç°åº¦é‡: ${gray}
å»é™¤ç°åº¦å:
  R_chroma = ${r} - ${gray} = ${chromaR}
  G_chroma = ${g} - ${gray} = ${chromaG}
  B_chroma = ${b} - ${gray} = ${chromaB}
      
ç»“æœ: <span class="pass">âœ“ ä¿ç•™äº† G=${chromaG} çš„ç»¿è‰²æˆåˆ†</span>
è¯´æ˜: è¿™ä¸ªç»¿è‰²æˆåˆ†ä½“ç°äº†è“ç´«è‰²çš„"ç´«"è‰²è°ƒ
      `;
    }

    // Test 3: Scaling
    function test3() {
      const gray = 141;
      const chromaR = 0, chromaG = 6, chromaB = 32;
      const chromaMax = Math.max(chromaR, chromaG, chromaB);
      const scale = 255 / chromaMax;
      const scaledR = Math.round(chromaR * scale);
      const scaledG = Math.round(chromaG * scale);
      const scaledB = Math.round(chromaB * scale);
      
      const resultHex = '#' + 
        scaledR.toString(16).padStart(2, '0') +
        scaledG.toString(16).padStart(2, '0') +
        scaledB.toString(16).padStart(2, '0');
      
      document.getElementById('test3').innerHTML = `
è‰²åº¦ RGB: (${chromaR}, ${chromaG}, ${chromaB})
æœ€å¤§å€¼: ${chromaMax}
ç¼©æ”¾å› å­: 255 / ${chromaMax} = ${scale.toFixed(2)}

ç¼©æ”¾å:
  R_scaled = ${chromaR} Ã— ${scale.toFixed(2)} = ${scaledR}
  G_scaled = ${chromaG} Ã— ${scale.toFixed(2)} = ${scaledG}
  B_scaled = ${chromaB} Ã— ${scale.toFixed(2)} = ${scaledB}

ç»“æœé¢œè‰²: <code style="background: ${resultHex}; color: white; padding: 5px 10px;">${resultHex.toUpperCase()}</code>

<span class="pass">âœ“ æˆåŠŸä¿ç•™äº† G=${scaledG} çš„ç»¿è‰²é€šé“</span>
è¿™ä¸ªé¢œè‰²å°†ç”¨äº Mixbox åæ¨,æ­£ç¡®è®¡ç®—çº¢+è“æ··åˆæ¯”ä¾‹!
      `;
    }

    // Run tests
    test1();
    test2();
    test3();
  </script>

  <div class="test" style="border-left-color: #2196F3;">
    <h3>ğŸ“Š æ€»ç»“</h3>
    <p><span class="pass">âœ“</span> ç®—æ³•æ­£ç¡®è¯†åˆ«äº†ä¸­ç­‰é¥±å’Œåº¦èŒƒå›´ (18.5%)</p>
    <p><span class="pass">âœ“</span> å»é™¤ç°åº¦åä¿ç•™äº†è‰²å½©ä¿¡æ¯ (G=6)</p>
    <p><span class="pass">âœ“</span> ç¼©æ”¾åˆ°å…¨èŒƒå›´å¾—åˆ°å¯ç”¨çš„ç›®æ ‡é¢œè‰² (#0030FF)</p>
    <p><span class="pass">âœ“</span> è¿™ä¸ªç›®æ ‡é¢œè‰²å°†ä½¿ Mixbox æ­£ç¡®è®¡ç®—å‡ºè“+çº¢æ··åˆ</p>
  </div>
</body>
</html>
